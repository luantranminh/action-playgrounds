name: Download and execute exe file

on:
 push:
    branches:
      - main
 pull_request:
 workflow_dispatch:

jobs:
  build:
    runs-on: windows-latest
    steps:
      - name: Checkout
        uses: actions/checkout@v4
      - name: Create temp directory
        run: |
          mkdir "${{ runner.temp }}/bin"
      - name: Download exe file
        run: |
            curl -fSL "https://github.com/genuinetools/weather/releases/download/v0.15.7/weather-windows-amd64" -o "${{ runner.temp }}\bin\weather.exe"
        shell: bash
      - name: Add to path
        shell: bash
        run: |
          echo "${{ runner.temp }}\bin" >> $GITHUB_PATH
      - name: Run weather
        run: |
          weather -h
          